@use 'sass:color';
@use 'sass:string';
@use 'partials/fonts';
@use 'partials/neumorphic';


$font-base:   24;
$font-break:  768;
$font-large:  1024;
$font-resp:   calc($font-base * 100 / $font-break);
$font-family: "Roboto Slab", serif;

$blanc: #fafaf7;  // | fond neutre           | arrière-plan, sections secondaires
$noir:  #1c1c1c;  // | texte, contrastes     | texte principal, arrière-plan foncé
$jaune: #f7d51d;  // | accent principal      | boutons, titres, éléments clés
$vert:  #7a9b68;  // | ton sérieux/sobriété  | en-têtes, fonds alternatifs
$rouge: #c0392b;  // | indignation           | alertes, points de dénonciation
$bleu:  #2e86c1;  // | référence au québec   | lien subtil à l’identité québécoise
$beige: #d6c6a9;  // | connotation militante | fond texture « dépliant engagé »

$jaune-mix:  color.mix($blanc, $jaune, 70%);
$jaune-dark: color.adjust($jaune-mix, $blackness: 5%);
$noir-alpha: color.adjust($noir, $alpha: -0.7);

$jaune-hex: string.unquote('#{string.slice(ie-hex-str($jaune), 4)}');
$noir-hex:  string.unquote('#{string.slice(ie-hex-str($noir), 4)}');


:root {
    --blanc: #{$blanc};
    --noir:  #{$noir};
    --jaune: #{$jaune};
    --vert:  #{$vert};
    --rouge: #{$rouge};
    --bleu:  #{$bleu};
    --beige: #{$beige};

    --jaune-mix:  #{$jaune-mix};
    --jaune-dark: #{$jaune-dark};
    --noir-alpha: #{$noir-alpha};

    --font-family:     #{$font-family};
    --font-size-base:  #{$font-base}px;
    --font-size-break: #{$font-break}px;
    --font-size-large: #{$font-large}px;
    --font-size-resp:  #{$font-resp}vw;

    --citron: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='5 6 600 418'%3E%3Cpath fill-rule='evenodd' fill='%23#{$noir-hex}' d='M333 6a756 756 0 0 0-99 10c-34 6-71 17-100 29C71 72 20 120 7 164c-4 14-1 35 10 64a300 300 0 0 0 345 189 317 317 0 0 0 195-131 305 305 0 0 0 48-182c1-63-1-73-12-78A593 593 0 0 0 464 8c-24-2-106-3-131-2m2 24-63 5c-4 0-3 0-1 5l8 22a626 626 0 0 0 20 40l5 1h3l14-14a3311 3311 0 0 1 53-57l2-3h-17l-24 1m44 24a465860 465860 0 0 1-50 54l20-4a42556 42556 0 0 1 148-36c16-4 25-4 28 1l2 9c0 6 0 7-2 8-1 1-3 1-6-1-6-2-5-2-91 20-92 23-96 24-95 25s8 4 22 7a2208 2208 0 0 1 118 38c6 5-3 15-13 15l-11-2a1994 1994 0 0 0-96-32l-32-10-5 2c-3 2-4 3-3 4a3160 3160 0 0 1 28 70l5 14c0 4-3 7-9 9-4 1-5 1-7-1-4-2-5-3-17-38l-15-38-6-14-4-1-4-1-8 9a5206 5206 0 0 1-75 82c-6 8-10 9-17 7-3-1-5-2-6-4-1-3-1-3 3-8l29-33 54-59-17 4a28745 28745 0 0 1-133 31c-29 7-40 9-45 7-4-2-6-5-5-9s6-9 9-9l52-11a11943 11943 0 0 1 125-30l-5-3a2961 2961 0 0 0-119-38c-16-6-14-6-27 3-40 27-70 65-70 88 0 15 12 36 28 48a230 230 0 0 0 91 34 377 377 0 0 0 43 6 658 658 0 0 0 134-6c39-7 89-23 125-41 55-27 90-59 110-98a150 150 0 0 0 17-76 762 762 0 0 0-80-10 1967 1967 0 0 0-88-7h-7l-23 25M243 39l-13 2c-27 5-64 16-85 26l-10 4 18 5a23384 23384 0 0 1 116 38c2 0 7-3 7-6l-3-9a1166 1166 0 0 1-20-52c-4-9-5-10-10-8m334 99c-8 15-17 27-32 42l-24 22c-57 44-128 72-212 84-31 5-40 5-75 5a405 405 0 0 1-147-23c-10-3-24-10-31-14l-4-3 4 7a272 272 0 0 0 284 138h6l6-2c10-1 33-7 48-12 38-14 82-44 111-76a263 263 0 0 0 70-169v-6l-4 7'/%3E%3Cpath fill='%23#{$jaune-hex}' fill-rule='evenodd' d='m335 30-63 5c-4 0-3 0-1 5l8 22a626 626 0 0 0 20 40l5 1h3l14-14a3311 3311 0 0 1 53-57l2-3h-17l-24 1m44 24a465860 465860 0 0 1-50 54l20-4a42556 42556 0 0 1 148-36c16-4 25-4 28 1l2 9c0 6 0 7-2 8-1 1-3 1-6-1-6-2-5-2-91 20-92 23-96 24-95 25s8 4 22 7a2208 2208 0 0 1 118 38c6 5-3 15-13 15l-11-2a1994 1994 0 0 0-96-32l-32-10-5 2c-3 2-4 3-3 4a3160 3160 0 0 1 28 70l5 14c0 4-3 7-9 9-4 1-5 1-7-1-4-2-5-3-17-38l-15-38-6-14-4-1-4-1-8 9a5206 5206 0 0 1-75 82c-6 8-10 9-17 7-3-1-5-2-6-4-1-3-1-3 3-8l29-33 54-59-17 4a28745 28745 0 0 1-133 31c-29 7-40 9-45 7-4-2-6-5-5-9s6-9 9-9l52-11a11943 11943 0 0 1 125-30l-5-3a2961 2961 0 0 0-119-38c-16-6-14-6-27 3-40 27-70 65-70 88 0 15 12 36 28 48a230 230 0 0 0 91 34 377 377 0 0 0 43 6 658 658 0 0 0 134-6c39-7 89-23 125-41 55-27 90-59 110-98a150 150 0 0 0 17-76 762 762 0 0 0-80-10 1967 1967 0 0 0-88-7h-7l-23 25M243 39l-13 2c-27 5-64 16-85 26l-10 4 18 5a23384 23384 0 0 1 116 38c2 0 7-3 7-6l-3-9a1166 1166 0 0 1-20-52c-4-9-5-10-10-8m334 99c-8 15-17 27-32 42l-24 22c-57 44-128 72-212 84-31 5-40 5-75 5a405 405 0 0 1-147-23c-10-3-24-10-31-14l-4-3 4 7a272 272 0 0 0 284 138h6l6-2c10-1 33-7 48-12 38-14 82-44 111-76a263 263 0 0 0 70-169v-6l-4 7'/%3E%3C/svg%3E");
    --ssjb:   url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='37 38 640 1113'%3E%3Cpath fill='%23#{$noir-hex}' fill-rule='evenodd' d='m300 209-57 173c0 2 113 354 114 353l57-177 57-176-57-172-57-172-57 171M88 491c-20 3-38 11-48 21l-3 4 25 50c23 46 25 50 27 50 15-4 61-6 79-3 22 3 41 10 55 20 9 6 23 21 31 32l34 56 8 15h11c9 0 10 0 10-2l-4-14c-18-72-51-135-92-176-28-28-60-46-91-52-11-1-33-2-42-1m504 0c-15 2-32 7-48 15-58 29-106 95-134 183-5 14-13 43-13 46l10 1h11l13-24c24-41 32-53 46-67 19-19 35-26 66-32 18-3 59-2 81 3h3l25-50 25-50-7-6c-16-16-44-22-78-19M259 753c-15 3-23 15-19 28 3 7 8 10 28 15 6 2 9 3 10 5s1 2-1 5c-5 7-20 4-20-4v-3h-9c-10 0-10 0-10 2 0 10 8 19 18 21 12 4 28 1 35-5 4-4 6-9 6-15s-2-11-6-14c-4-4-6-5-19-8-13-4-14-4-14-8s3-5 9-5c5 0 9 2 10 6v3h18v-4c0-14-17-23-36-19m67 0c-8 2-16 7-18 13-2 5-1 13 1 17 4 6 8 8 28 13 7 2 9 4 9 8 0 3-4 6-11 5-6 0-9-2-10-7l-1-3h-18v5c1 11 11 19 26 20 20 1 32-7 32-22 1-12-5-17-24-22-13-4-16-5-14-9 1-4 7-6 13-4 3 1 4 2 5 5l1 4h9c9 0 9 0 9-2 0-8-5-15-13-19-5-2-18-3-24-2m59 23-1 25c-1 5-4 6-10 6h-3v15l4 1c8 1 20-3 24-8s4-8 4-35v-26h-18v22m35 12v34h18c20 0 26-1 31-6 5-4 6-8 6-15-1-5-1-7-3-9l-6-4c-3 0-3 0-1-1 10-6 12-18 4-26-6-5-9-6-30-7h-19v34m18-13v6h7c6-1 8-1 9-3 3-3 2-5 0-7s-3-2-9-2h-7v6m0 26v6h7c9 0 11-1 11-5 0-5-3-7-11-7h-7v6m-143 42c0 3-8 17-14 26-10 13-27 31-41 41l-3 3 10 20 10 20 5-4a190 190 0 0 0 60-105l1-3h-14c-13 0-14 0-14 2m28 86-33 89 33 66 34 67 33-67 34-66-33-88-34-88-34 87m69-84a186 186 0 0 0 62 106l3 2 9-20 10-20-7-6-36-37c-6-8-11-17-13-23l-2-6h-27l1 4'/%3E%3C/svg%3E");
}


* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: var(--font-family);
}


html {
    scroll-behavior: smooth;
    font-size: min(var(--font-size-resp), var(--font-size-base));
}


body {
    color: var(--noir);
    background-color: var(--blanc);
    height: 100vh;
    overflow-x: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;

    div.row {
        width: 100%;
        max-width: var(--font-size-large);

        &:not(:first-of-type) {
            margin: 2rem 0;
        }

        &.sublogo {
            text-align: center;
            font-size: 1.4rem;
            font-weight: 900;
            user-select: none;
            margin-top: 0;
        }

        &.logo {
            position: relative;
            padding-top: 1rem;
            text-align: center;
            font-size: 3.6rem;
            font-weight: 900;
            user-select: none;
            text-transform: uppercase;

            &::after {
                content: "";
                display: inline-block;
                width: 6rem;
                height: 6rem;
                margin-bottom: -1rem;
                background-image: var(--citron);
                background-position: center center;
                background-repeat: no-repeat;
                background-size: contain;
                animation-name: citron;
                animation-duration: 2s;
                animation-iteration-count: infinite;
                transform-origin: center 80%;
            }
        }

        &.text {
            padding: 2rem;
            background-color: var(--jaune-mix);
            box-shadow:  0.5rem 0.5rem 2rem var(--beige);

            p, h3 {
                margin-top: 1rem;
            }

            ul {
                margin-left: 2rem;
            }

            li {
                margin-top: 0.5rem;
            }

            img {
                width: 100%;
            }
        }

        &.form {
            padding: 2rem;
            background-color: var(--jaune-mix);
            box-shadow:  0.5rem 0.5rem 2rem var(--beige);

            h3 {
                margin-bottom: 0.5rem;
            }

            div.dline {
                display: flex;
                justify-content: space-between;

                input, textarea {
                    width: 48%;
                }
            }

            div.sline {
                display: flex;
                justify-content: center;
                align-items: center;
                text-align: center;
            }

            textarea,
            input[type="text"] {
                font-size: 1rem;
                padding: 0.5rem;
                width: 100%;
                @include neumorphic.input;

                &::placeholder {
                    color: var(--noir-alpha);
                }

                &:focus {
                    outline: none;
                }
            }

            input[type="submit"] {
                color: var(--noir);
                font-size: 1rem;
                font-weight: bold;
                padding: 0.5rem;
                cursor: pointer;
                @include neumorphic.button;
                
                &:active {
                    @include neumorphic.button-press;
                }
            }

            textarea {
                height: 10rem;
                resize: vertical;
            }

            .dndfile {
                width: 48%;
                height: 10rem;
                display: flex;
                align-items: center;
                justify-content: center;
                text-align: center;
                font-size: 0.8rem;
                color: var(--noir-alpha);
                user-select: none;
                cursor: pointer;
                @include neumorphic.button;

                &.dragover,
                &:active {
                    color: var(--noir);
                    @include neumorphic.button-press;
                }
            }


        }

        &.footer {
            display: flex;
            align-items: center;
            justify-content: center;
            padding-bottom: 4rem;
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--noir);
            opacity: 0.3;
            user-select: none;

            .logo {
                width: 1.7rem;
                height: 2rem;
                background-image: var(--ssjb);
                background-size: contain;
                background-position: left center;
                background-repeat: no-repeat;
            }

        }

    }
}


@keyframes citron {
    0%, 100% {
        transform: rotate(-15deg);
    }
    50% {
        transform: rotate(-30deg);
    }
}